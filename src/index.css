@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * MANAGEMENT SYSTEM DESIGN SYSTEM
 * Professional, audit-ready, mobile-first
 * Typography: Space Grotesk (UI), Lora (Narrative), Space Mono (Data)
 */

@layer base {
  :root {
    /* Core semantic colors - Professional slate/navy palette */
    --background: 210 20% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Primary: Deep professional navy */
    --primary: 222 47% 11%;
    --primary-foreground: 210 40% 98%;

    /* Secondary: Cool slate */
    --secondary: 215 25% 93%;
    --secondary-foreground: 222 47% 11%;

    /* Muted: Subtle backgrounds */
    --muted: 210 20% 96%;
    --muted-foreground: 215 16% 47%;

    /* Accent: Warm amber for CTAs and actions */
    --accent: 35 92% 50%;
    --accent-foreground: 222 47% 11%;

    /* Destructive: Clear warning red */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    /* Success: Confirmation green */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    /* Warning: Attention amber */
    --warning: 38 92% 50%;
    --warning-foreground: 222 47% 11%;

    /* Info: Informational blue */
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    /* Borders and inputs */
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --input-background: 0 0% 100%;
    --ring: 222 47% 11%;

    --radius: 0.75rem;

    /* Module-specific colors */
    --process: 199 89% 48%;
    --process-foreground: 0 0% 100%;
    
    --risk: 0 72% 51%;
    --risk-foreground: 0 0% 100%;
    
    --opportunity: 142 71% 45%;
    --opportunity-foreground: 0 0% 100%;
    
    --action: 35 92% 50%;
    --action-foreground: 222 47% 11%;
    
    --audit: 262 83% 58%;
    --audit-foreground: 0 0% 100%;
    
    --kpi: 199 89% 48%;
    --kpi-foreground: 0 0% 100%;

    /* SWOT Matrix colors */
    --strength: 142 71% 45%;
    --weakness: 0 72% 51%;
    --opportunity-swot: 199 89% 48%;
    --threat: 38 92% 50%;

    /* Status colors */
    --status-draft: 215 16% 47%;
    --status-active: 142 71% 45%;
    --status-archived: 215 25% 75%;
    --status-pending: 38 92% 50%;
    --status-completed: 199 89% 48%;

    /* Sidebar */
    --sidebar-background: 222 47% 11%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 35 92% 50%;
    --sidebar-primary-foreground: 222 47% 11%;
    --sidebar-accent: 222 47% 18%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 222 47% 20%;
    --sidebar-ring: 35 92% 50%;

    /* Mobile navigation */
    --nav-height: 4.5rem;
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    
    /* Adaptive layout */
    --content-max-width: 960px;
    --wide-max-width: 1200px;
    --sidebar-width: 256px;
  }

  .dark {
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;

    --card: 222 47% 9%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222 47% 11%;

    --secondary: 222 47% 15%;
    --secondary-foreground: 210 40% 98%;

    --muted: 222 47% 15%;
    --muted-foreground: 215 20% 65%;

    --accent: 35 92% 50%;
    --accent-foreground: 222 47% 11%;

    --destructive: 0 62% 45%;
    --destructive-foreground: 210 40% 98%;

    --success: 142 71% 40%;
    --success-foreground: 210 40% 98%;

    --border: 222 47% 18%;
    --input: 222 47% 18%;
    --input-background: 222 47% 12%;
    --ring: 210 40% 80%;

    --sidebar-background: 222 47% 5%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 35 92% 50%;
    --sidebar-primary-foreground: 222 47% 11%;
    --sidebar-accent: 222 47% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 222 47% 15%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-feature-settings: "ss01", "ss02", "cv01";
    /* Mobile: bottom nav padding. Desktop: no bottom padding (handled by lg:pb-0) */
    padding-bottom: calc(var(--nav-height) + var(--safe-area-bottom));
  }
  
  /* Remove body padding on desktop - nav is on side */
  @media (min-width: 1024px) {
    body {
      padding-bottom: 0;
    }
  }

  /* Typography hierarchy */
  h1, h2, h3 {
    @apply font-serif font-semibold tracking-tight;
  }

  h1 {
    @apply text-2xl md:text-3xl;
  }

  h2 {
    @apply text-xl md:text-2xl;
  }

  h3 {
    @apply text-lg md:text-xl;
  }

  /* Data typography */
  .data-text {
    @apply font-mono text-sm tracking-tight;
  }

  /* Version badges */
  .version-badge {
    @apply font-mono text-xs bg-muted px-2 py-0.5 rounded;
  }

  /* Touch-friendly tap targets */
  button, a, [role="button"] {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Smooth scrolling */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
}

@layer components {
  /* Mobile card component */
  .mobile-card {
    @apply bg-card rounded-xl border border-border p-4 shadow-sm;
    @apply active:scale-[0.98] transition-transform duration-150;
  }

  /* Status indicator */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  /* Module indicator */
  .module-badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium;
  }

  /* Process card */
  .process-card {
    @apply mobile-card border-l-4 border-l-process;
  }

  /* Risk card */
  .risk-card {
    @apply mobile-card border-l-4 border-l-risk;
  }

  /* Opportunity card */
  .opportunity-card {
    @apply mobile-card border-l-4 border-l-opportunity;
  }

  /* Action card */
  .action-card {
    @apply mobile-card border-l-4 border-l-action;
  }

  /* Empty state */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 px-6 text-center;
  }

  /* Floating action button */
  .fab {
    @apply fixed bottom-24 right-4 z-40;
    @apply w-14 h-14 rounded-full bg-accent text-accent-foreground;
    @apply shadow-lg shadow-accent/30;
    @apply flex items-center justify-center;
    @apply active:scale-95 transition-transform;
  }

  /* Bottom sheet handle */
  .sheet-handle {
    @apply w-12 h-1.5 rounded-full bg-muted-foreground/20 mx-auto mb-4;
  }

  /* Form field with helper */
  .form-field {
    @apply space-y-2;
  }

  .form-helper {
    @apply text-xs text-muted-foreground;
  }

  /* Section header */
  .section-header {
    @apply flex items-center justify-between px-4 py-3 sticky top-0 bg-background/95 backdrop-blur-sm z-10;
  }
}

@layer utilities {
  /* Safe area padding - mobile only */
  .pb-safe {
    padding-bottom: calc(var(--nav-height) + var(--safe-area-bottom) + 1rem);
  }
  
  @media (min-width: 1024px) {
    .pb-safe {
      padding-bottom: 1rem;
    }
  }

  /* Touch scroll */
  .touch-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Hide scrollbar */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Prevent text selection on touch */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Adaptive content container */
  .content-container {
    @apply w-full max-w-[960px] mx-auto px-4 lg:px-6;
  }
  
  .wide-container {
    @apply w-full max-w-[1200px] mx-auto px-4 lg:px-6;
  }
}
